import { deployments, ethers, network } from "hardhat";
import { developmentChains } from "../hardhat.config.helper";
import { AggregatorInterface, AggregatorV3Interface, SvgHiosToken } from "../typechain-types";
import { assert } from "chai";
const SAD_SVG_URI =
    "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iMzEiIHZpZXdCb3g9IjAgMCAzMSAzMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjIxMSAxOUMxMi40MDI0IDIwLjE3NzQgMTEuMDY4MiAyMC45NDk2IDkuNTMxOTQgMjAuOTQ5NkM5LjA3OTEzIDIwLjk0OTYgOC42NDE5OSAyMC44ODI1IDguMjI5OTIgMjAuNzU3N0M4LjEzNjEzIDIwLjcyOTMgOC4wMzkxOCAyMC43OTggOC4wMzkxOCAyMC44OTZDOC4wMzkxOCAyMS41MDU3IDcuNTQ0OSAyMiA2LjkzNTE4IDIyQzYuMzI1NDYgMjIgNS44MzExOCAyMS41MDU3IDUuODMxMTggMjAuODk2TDUuODMxMTggMjBDNS44MzExNyAxOS40NDc3IDYuMjc4ODkgMTkgNi44MzExOCAxOUgxMy4yMTFaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0xNi43NTA1IDE5QzE3LjU1OTEgMjAuMTc3NCAxOC44OTMzIDIwLjk0OTYgMjAuNDI5NSAyMC45NDk2QzIwLjg4MjMgMjAuOTQ5NiAyMS4zMTk1IDIwLjg4MjUgMjEuNzMxNSAyMC43NTc3QzIxLjgyNTMgMjAuNzI5MyAyMS45MjIzIDIwLjc5OCAyMS45MjIzIDIwLjg5NkMyMS45MjIzIDIxLjUwNTcgMjIuNDE2NiAyMiAyMy4wMjYzIDIyQzIzLjYzNiAyMiAyNC4xMzAzIDIxLjUwNTcgMjQuMTMwMyAyMC44OTZMMjQuMTMwMyAyMEMyNC4xMzAzIDE5LjQ0NzcgMjMuNjgyNiAxOSAyMy4xMzAzIDE5SDE2Ljc1MDVaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik05LjAxNTY0IDcuNDAzODZMOS4wMTg4NCA3LjM4NzYzQzkuMDY0NDggNy4xMTU1MyA5LjMyMTg2IDYuOTMyMjMgOS41OTQwOCA2Ljk3NzZDOS44NjY0NiA3LjAyMjk5IDEwLjA1MDUgNy4yODA2MSAxMC4wMDUxIDcuNTUyOTlMOS41MTE4OCA3LjQ3MDc5QzEwLjAwNTEgNy41NTI5OSAxMC4wMDQ5IDcuNTU0MjMgMTAuMDA0OSA3LjU1NDIzTDEwLjAwNDYgNy41NTU3NEwxMC4wMDM5IDcuNTU5NkwxMC4wMDE5IDcuNTcwNkMxMC4wMDAzIDcuNTc5MzYgOS45OTgwOSA3LjU5MDk2IDkuOTk1MTYgNy42MDUyMUM5Ljk4OTMgNy42MzM2OSA5Ljk4MDY3IDcuNjcyODQgOS45Njg1OSA3LjcyMTE1QzkuOTQ0NDcgNy44MTc2MyA5LjkwNjQ1IDcuOTUxMzcgOS44NDkxNiA4LjExMDAyQzkuNzM1MDEgOC40MjYxMSA5LjU0MTcgOC44NDg1MiA5LjIyMzQyIDkuMjcyODlDOC41NzM1NSAxMC4xMzk0IDcuNDI4NzQgMTAuOTc1IDUuNTA2MjkgMTAuOTc1QzUuMjMwMTQgMTAuOTc1IDUuMDA2MjkgMTAuNzUxMSA1LjAwNjI5IDEwLjQ3NUM1LjAwNjI5IDEwLjE5ODggNS4yMzAxNCA5Ljk3NDk5IDUuNTA2MjkgOS45NzQ5OUM3LjA4ODczIDkuOTc0OTkgNy45NDY3MSA5LjMwODQ5IDguNDIzNDIgOC42NzI4OUM4LjY2ODQyIDguMzQ2MjIgOC44MTkzNCA4LjAxNzU3IDguOTA4NiA3Ljc3MDM4QzguOTUzMDIgNy42NDczOCA4Ljk4MTQ5IDcuNTQ2NDIgOC45OTg0NSA3LjQ3ODYxQzkuMDA2OTEgNy40NDQ3NyA5LjAxMjQ1IDcuNDE5MzggOS4wMTU2NCA3LjQwMzg2WiIgZmlsbD0iIzIxMjEyMSIvPgo8cGF0aCBkPSJNMjEuMDIzNSA3LjQwMzg2TDIxLjAyMDQgNy4zODgyM0wyMS4wMjAxIDcuMzg2OTNDMjAuOTc0IDcuMTE1NDYgMjAuNzE2OSA2LjkzMjI5IDIwLjQ0NSA2Ljk3NzZDMjAuMTcyNiA3LjAyMjk5IDE5Ljk4ODYgNy4yODA2MSAyMC4wMzQgNy41NTI5OUwyMC41MjcyIDcuNDcwNzlDMjAuMDM0IDcuNTUyOTkgMjAuMDM0MiA3LjU1NDIzIDIwLjAzNDIgNy41NTQyM0wyMC4wMzQ1IDcuNTU1NzRMMjAuMDM1MiA3LjU1OTZMMjAuMDM3MiA3LjU3MDZDMjAuMDM4OCA3LjU3OTM2IDIwLjA0MSA3LjU5MDk2IDIwLjA0MzkgNy42MDUyMUMyMC4wNDk4IDcuNjMzNjkgMjAuMDU4NCA3LjY3Mjg0IDIwLjA3MDUgNy43MjExNUMyMC4wOTQ2IDcuODE3NjMgMjAuMTMyNyA3Ljk1MTM3IDIwLjE5IDguMTEwMDJDMjAuMzA0MSA4LjQyNjExIDIwLjQ5NzQgOC44NDg1MiAyMC44MTU3IDkuMjcyODlDMjEuNDY1NiAxMC4xMzk0IDIyLjYxMDQgMTAuOTc1IDI0LjUzMjggMTAuOTc1QzI0LjgwOSAxMC45NzUgMjUuMDMyOCAxMC43NTExIDI1LjAzMjggMTAuNDc1QzI1LjAzMjggMTAuMTk4OCAyNC44MDkgOS45NzQ5OSAyNC41MzI4IDkuOTc0OTlDMjIuOTUwNCA5Ljk3NDk5IDIyLjA5MjQgOS4zMDg0OSAyMS42MTU3IDguNjcyODlDMjEuMzcwNyA4LjM0NjIyIDIxLjIxOTggOC4wMTc1NyAyMS4xMzA1IDcuNzcwMzhDMjEuMDg2MSA3LjY0NzM4IDIxLjA1NzYgNy41NDY0MiAyMS4wNDA3IDcuNDc4NjFDMjEuMDMyMiA3LjQ0NDc3IDIxLjAyNjcgNy40MTkzOCAyMS4wMjM1IDcuNDAzODZaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0xMi41MTcxIDIyLjQzNTFDMTIuMjA5MiAyMi4xNTggMTEuNzM1IDIyLjE4MyAxMS40NTc5IDIyLjQ5MDhDMTEuMTgwOCAyMi43OTg3IDExLjIwNTggMjMuMjcyOSAxMS41MTM3IDIzLjU1QzEyLjQzOTcgMjQuMzgzNSAxMy43NjQ5IDI0Ljc1NjUgMTUuMDE5NiAyNC43NTY1QzE2LjI3NDMgMjQuNzU2NSAxNy41OTk0IDI0LjM4MzUgMTguNTI1NSAyMy41NUMxOC44MzM0IDIzLjI3MjkgMTguODU4MyAyMi43OTg3IDE4LjU4MTIgMjIuNDkwOEMxOC4zMDQxIDIyLjE4MyAxNy44Mjk5IDIyLjE1OCAxNy41MjIgMjIuNDM1MUMxNi45NDYgMjIuOTUzNSAxNi4wMTggMjMuMjU2NSAxNS4wMTk2IDIzLjI1NjVDMTQuMDIxMSAyMy4yNTY1IDEzLjA5MzIgMjIuOTUzNSAxMi41MTcxIDIyLjQzNTFaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0xMy44MTY4IDE2LjI4NDZDMTMuODE2OCAxNi45MDM2IDEzLjY2NDggMTcuNDg3MiAxMy4zOTYxIDE4SDYuODM1MTJDNi41NjY0MSAxNy40ODcyIDYuNDE0NDIgMTYuOTAzNiA2LjQxNDQyIDE2LjI4NDZDNi40MTQ0MiAxNC4yNDA1IDguMDcxNDkgMTIuNTgzNCAxMC4xMTU2IDEyLjU4MzRDMTIuMTU5NyAxMi41ODM0IDEzLjgxNjggMTQuMjQwNSAxMy44MTY4IDE2LjI4NDZaTTEyLjUyODkgMTYuMzM5MkMxMy4wNzUgMTUuOTYxNCAxMy4xNDI5IDE1LjExMzIgMTIuNjgwNCAxNC40NDQ3QzEyLjIxOCAxMy43NzYyIDExLjQwMDMgMTMuNTQwNiAxMC44NTQxIDEzLjkxODRDMTAuMzA4IDE0LjI5NjMgMTAuMjQwMSAxNS4xNDQ1IDEwLjcwMjYgMTUuODEzQzExLjE2NTEgMTYuNDgxNCAxMS45ODI3IDE2LjcxNzEgMTIuNTI4OSAxNi4zMzkyWiIgZmlsbD0iIzIxMjEyMSIvPgo8cGF0aCBkPSJNMTYuNTY1MyAxOEgyMy4xMjYzQzIzLjM5NSAxNy40ODcyIDIzLjU0NyAxNi45MDM2IDIzLjU0NyAxNi4yODQ2QzIzLjU0NyAxNC4yNDA1IDIxLjg4OTkgMTIuNTgzNCAxOS44NDU4IDEyLjU4MzRDMTcuODAxNyAxMi41ODM0IDE2LjE0NDYgMTQuMjQwNSAxNi4xNDQ2IDE2LjI4NDZDMTYuMTQ0NiAxNi45MDM2IDE2LjI5NjYgMTcuNDg3MiAxNi41NjUzIDE4Wk0yMi4wMTExIDE2LjMzOTJDMjEuNDY0OSAxNi43MTcxIDIwLjY0NzMgMTYuNDgxNCAyMC4xODQ4IDE1LjgxM0MxOS43MjIzIDE1LjE0NDUgMTkuNzkwMiAxNC4yOTYzIDIwLjMzNjMgMTMuOTE4NEMyMC44ODI1IDEzLjU0MDYgMjEuNzAwMSAxMy43NzYyIDIyLjE2MjYgMTQuNDQ0N0MyMi42MjUxIDE1LjExMzIgMjIuNTU3MiAxNS45NjE0IDIyLjAxMTEgMTYuMzM5MloiIGZpbGw9IiMyMTIxMjEiLz4KPHBhdGggZD0iTTMuNzY4MzEgNS4zOTEzOEM2LjMyMTE1IDIuNjE5MjcgMTAuMTA4MiAwLjk2Mjg5MSAxNS4wMTg0IDAuOTYyODkxQzE5LjkyODcgMC45NjI4OTEgMjMuNzE1NyAyLjYxOTI3IDI2LjI2ODYgNS4zOTEzOEMyOC44MDkgOC4xNTAwMSAzMC4wMzY5IDExLjkxNDggMzAuMDM2OSAxNS45ODEzQzMwLjAzNjkgMjAuMDQ3OSAyOC44MDkgMjMuODEyNyAyNi4yNjg2IDI2LjU3MTNDMjMuNzE1NyAyOS4zNDM0IDE5LjkyODcgMzAuOTk5OCAxNS4wMTg0IDMwLjk5OThDMTAuMTA4MiAzMC45OTk4IDYuMzIxMTUgMjkuMzQzNCAzLjc2ODMxIDI2LjU3MTNDMS4yMjc4OSAyMy44MTI3IDAgMjAuMDQ3OSAwIDE1Ljk4MTNDMCAxMS45MTQ4IDEuMjI3ODkgOC4xNTAwMSAzLjc2ODMxIDUuMzkxMzhaTTUuMjM5NTEgNi43NDYyMUMzLjEwNzU4IDkuMDYxMjcgMiAxMi4zMDU3IDIgMTUuOTgxM0MyIDE5LjY1NyAzLjEwNzU4IDIyLjkwMTQgNS4yMzk1MSAyNS4yMTY1QzcuMzU5MDMgMjcuNTE4IDEwLjU4MTIgMjguOTk5OCAxNS4wMTg0IDI4Ljk5OThDMTkuNDU1NyAyOC45OTk4IDIyLjY3NzkgMjcuNTE4IDI0Ljc5NzQgMjUuMjE2NUMyNi45MjkzIDIyLjkwMTQgMjguMDM2OSAxOS42NTcgMjguMDM2OSAxNS45ODEzQzI4LjAzNjkgMTIuMzA1NyAyNi45MjkzIDkuMDYxMjcgMjQuNzk3NCA2Ljc0NjIxQzIyLjY3NzkgNC40NDQ2NCAxOS40NTU3IDIuOTYyODkgMTUuMDE4NCAyLjk2Mjg5QzEwLjU4MTIgMi45NjI4OSA3LjM1OTAzIDQuNDQ0NjQgNS4yMzk1MSA2Ljc0NjIxWiIgZmlsbD0iIzIxMjEyMSIvPgo8L3N2Zz4K";
const SAD_TOKEN_URI = "data:application/json;base64,";
const HAPPY_TOKEN_URI = "data:application/json;base64,";
const HAPPY_SVG_URI =
    "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE1Ljk5ODkgM0MxOC4zODI2IDMgMjAuNDE1IDMuNDI4MjIgMjIuMTEzNyA0LjE4MTczTDIzLjIzMzkgMi42ODgyNEMyMy4yNzA1IDIuNjM5NDEgMjMuMzA4OCAyLjU5MzMgMjMuMzQ4NSAyLjU0OTg3QzIxLjI4NjYgMS41NTEyNCAxOC44Mjk2IDEgMTUuOTk4OSAxQzEzLjE2ODkgMSAxMC43MTI0IDEuNTUwOTUgOC42NTA4NCAyLjU0OTA5QzguNjkwODcgMi41OTI3NCA4LjcyOTQgMi42MzkxMSA4Ljc2NjI1IDIuNjg4MjRMOS44ODU3OCA0LjE4MDk1QzExLjU4NDIgMy40Mjc5MyAxMy42MTYgMyAxNS45OTg5IDNaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0zIDE1Ljk5ODlDMyAxNC40MzY5IDMuMjAwMzEgMTIuOTUyOSAzLjU5NDUxIDExLjU4NTNMMS44OTMzOSAxMC42NDAyQzEuODYzOTUgMTAuNjIzOSAxLjgzNTI1IDEwLjYwNjkgMS44MDcyOCAxMC41ODk0QzEuMjY2MjQgMTIuMjc5NyAxIDE0LjEwNjYgMSAxNS45OTg5QzEgMjAuMDYgMi4yMjYyNiAyMy44MTk5IDQuNzYzNDIgMjYuNTc1QzcuMzEzIDI5LjM0MzYgMTEuMDk1MiAzMC45OTc4IDE1Ljk5ODkgMzAuOTk3OEMyMC45MDI2IDMwLjk5NzggMjQuNjg0OCAyOS4zNDM2IDI3LjIzNDMgMjYuNTc1QzI5Ljc3MTUgMjMuODE5OSAzMC45OTc4IDIwLjA2IDMwLjk5NzggMTUuOTk4OUMzMC45OTc4IDE0LjEwNyAzMC43MzE3IDEyLjI4MDYgMzAuMTkwOSAxMC41OTA2QzMwLjE2MzUgMTAuNjA3NyAzMC4xMzU1IDEwLjYyNDMgMzAuMTA2NyAxMC42NDAyTDI4LjQwMzYgMTEuNTg2NEMyOC43OTc2IDEyLjk1MzcgMjguOTk3OCAxNC40MzczIDI4Ljk5NzggMTUuOTk4OUMyOC45OTc4IDE5LjY2OTEgMjcuODkxOCAyMi45MDg3IDI1Ljc2MzEgMjUuMjIwMkMyMy42NDY5IDI3LjUxODIgMjAuNDI5NiAyOC45OTc4IDE1Ljk5ODkgMjguOTk3OEMxMS41NjgxIDI4Ljk5NzggOC4zNTA4OCAyNy41MTgyIDYuMjM0NjIgMjUuMjIwMkM0LjEwNTk1IDIyLjkwODcgMyAxOS42NjkxIDMgMTUuOTk4OVoiIGZpbGw9IiMyMTIxMjEiLz4KPHBhdGggZD0iTTguNzc3NDUgMTQuMDYyTDUuNzI3MzQgMTYuNDM0M0M1LjQ1MTE1IDE2LjY0OTEgNS4wNTE3MyAxNi40MzA4IDUuMDgzNDEgMTYuMDgyM0w1LjM4MjA4IDEyLjc5NjlDNS40NTM3NiAxMi4wMDg1IDUuMDUzNjMgMTEuMjUyIDQuMzYxNTggMTAuODY3NUwyLjM3ODk3IDkuNzY2MUMxLjgyNjY1IDkuNDU5MjUgMS44NzgwMiA4LjY0ODc4IDIuNDY0NjYgOC40MTQxMkw0Ljk5NDA4IDcuNDAyMzVDNS42MjE2IDcuMTUxMzQgNi4wNzk5MSA2LjYwMDM4IDYuMjEyNDYgNS45Mzc2M0w2LjY4NDE3IDMuNTc5MDZDNi44MDYyMyAyLjk2ODc5IDcuNTkyNzcgMi43OTAzNyA3Ljk2NjE5IDMuMjg4MjZMOS4zMzAzNyA1LjEwNzE2QzkuNzQ2NTcgNS42NjIxMSAxMC40MjA2IDUuOTYxNzUgMTEuMTExNCA1Ljg5ODk1TDE0LjYwMzkgNS41ODE0NUMxNC45NDkgNS41NTAwOCAxNS4xNjgxIDUuOTQyNTYgMTQuOTYwMSA2LjIxOTgxTDEzLjE3NDQgOC42MDA4QzEyLjc1NTYgOS4xNTkxOSAxMi42NTgyIDkuODk1NTIgMTIuOTE3NCAxMC41NDM2TDE0LjMyODYgMTQuMDcxNUMxNC40MDIzIDE0LjI1NTggMTQuMjQyMSAxNC40NDg0IDE0LjA0NzQgMTQuNDA5NUwxMC4zOTc2IDEzLjY3OTVDOS44Mjc2MSAxMy41NjU1IDkuMjM2MjYgMTMuNzA1MSA4Ljc3NzQ1IDE0LjA2MloiIGZpbGw9IiMyMTIxMjEiLz4KPHBhdGggZD0iTTcgMTdDNyAxNyA3IDI2IDE2IDI2QzI1IDI2IDI1IDE3IDI1IDE3SDdaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0yMy4yMjI1IDE0LjA2MkwyNi4yNzI3IDE2LjQzNDNDMjYuNTQ4OCAxNi42NDkxIDI2Ljk0ODMgMTYuNDMwOCAyNi45MTY2IDE2LjA4MjNMMjYuNjE3OSAxMi43OTY5QzI2LjU0NjIgMTIuMDA4NSAyNi45NDY0IDExLjI1MiAyNy42Mzg0IDEwLjg2NzVMMjkuNjIxIDkuNzY2MUMzMC4xNzMzIDkuNDU5MjUgMzAuMTIyIDguNjQ4NzggMjkuNTM1MyA4LjQxNDEyTDI3LjAwNTkgNy40MDIzNUMyNi4zNzg0IDcuMTUxMzQgMjUuOTIwMSA2LjYwMDM4IDI1Ljc4NzUgNS45Mzc2M0wyNS4zMTU4IDMuNTc5MDZDMjUuMTkzOCAyLjk2ODc5IDI0LjQwNzIgMi43OTAzNyAyNC4wMzM4IDMuMjg4MjZMMjIuNjY5NiA1LjEwNzE2QzIyLjI1MzQgNS42NjIxMSAyMS41Nzk0IDUuOTYxNzUgMjAuODg4NiA1Ljg5ODk1TDE3LjM5NjEgNS41ODE0NUMxNy4wNTEgNS41NTAwOCAxNi44MzE5IDUuOTQyNTYgMTcuMDM5OSA2LjIxOTgxTDE4LjgyNTYgOC42MDA4QzE5LjI0NDQgOS4xNTkxOSAxOS4zNDE4IDkuODk1NTIgMTkuMDgyNiAxMC41NDM2TDE3LjY3MTQgMTQuMDcxNUMxNy41OTc3IDE0LjI1NTggMTcuNzU3OSAxNC40NDg0IDE3Ljk1MjYgMTQuNDA5NUwyMS42MDI0IDEzLjY3OTVDMjIuMTcyNCAxMy41NjU1IDIyLjc2MzcgMTMuNzA1MSAyMy4yMjI1IDE0LjA2MloiIGZpbGw9IiMyMTIxMjEiLz4KPC9zdmc+Cg==";

!developmentChains.includes(network.name)
    ? describe.skip
    : describe("Svg Hios Token", () => {
          let svgHiosToken: SvgHiosToken;
          let aggregatorV3: AggregatorV3Interface;
          let deployer: string;
          beforeEach(async () => {
              const [firstSigner] = await ethers.getSigners();
              deployer = firstSigner.address;
              await deployments.fixture(["mocks", "svgNft"]);
              svgHiosToken = await ethers.getContract("SvgHiosToken", deployer);
              aggregatorV3 = await ethers.getContract("MockV3Aggregator", deployer);
          });
          describe("Constructor", () => {
              it("Starts correctly the initial states", async () => {
                  const happySvg = await svgHiosToken.getHappySvg();
                  const sadSvg = await svgHiosToken.getSadSvg();
                  const priceFeedAddress = await svgHiosToken.getPriceFeedAddress();
                  const tokenCounter = await svgHiosToken.getTokenCounter();
                  //   console.log({ happySvg, HAPPY_SVG_URI });
                  assert.equal(happySvg, HAPPY_SVG_URI);
                  assert.equal(sadSvg, SAD_SVG_URI);
                  assert.equal(priceFeedAddress, aggregatorV3.address);
                  assert.equal(tokenCounter.toString(), "0");
              });
          });
      });
